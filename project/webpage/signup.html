<!DOCTYPE html>
<html>
<head> 
<title> UniSearch </title>
<link rel="shortcut icon" type="image/png" href="logo.png"/>
<title>  </title>
</head>
<body style="background-image: url('uni.jpg');
 font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    height: 600px; 
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;">

<div id="div1" style=" border-style: solid white;
padding-top:20px;
padding-left:50px;
padding-right:60px;
padding-bottom: 28px;
border-radius: 20px; 
margin-right: 20px;
background-color: white;
max-width: 280px;
margin: auto; 
opacity: 0.8;
position: absolute;
top:100px;
left:500px">
<img src="logo.png" style=" position:absolute;
top:2px; 
padding-left:100px;
padding-top: 10px;"width="70px" /> <br>
<h1 style="padding-top: 30px;"> Create an account</h1>  

<form id="signupform">  

    <label>Username</label> <br>
    <input type="text" id="username" name="username"  placeholder="Please enter a username" size="30px" style="padding:4px 10px;"required> <br>
    <label>Email address</label> <br>
    <input type="email" id="email" name="email"  placeholder="name@gmail.com" size="30px" style="padding:4px 10px;" required> <br>
    <label> Password </label>  <br>
    <input type="password" id="password" name="password" placeholder="Please enter a password (more than 6)" id="pw" size="30px" style="padding:4px 10px;" required>  <br>
    <label> sector </label>  <br>
    <input type="text" id="sector" name="sector" placeholder="(math , sc , info , letter , eco , tech)" id="pw" size="30px" style="padding:4px 10px;" required>  <br>
 <br> 


<button type="button" style="
background: linear-gradient(to bottom right, #EF4765, #FF9A5A);
border: 0;
border-radius: 12px;
color: #FFFFFF;
cursor: pointer;
display: inline-block;
font-family: -apple-system,system-ui,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
font-size: 16px;
font-weight: 500;
line-height: 2.5;
outline: transparent;
padding: 0 1rem;
text-align: center;
text-decoration: none;
margin-left:90px;
transition: box-shadow .2s ease-in-out;
user-select: none;
-webkit-user-select: none;
touch-action: manipulation;
white-space: nowrap;
" onclick="registerUser()"> Sign up </button> <br> <br>
<class style="font-size: 14px"> Already have an account? <a href="UniSearch.html">Log in</a> </class>
</form>  
</div> 
<footer class="footer" style="font-weight: bold;
    position: absolute;
    bottom:0; 
    background-color:black;
    left:0px;
    padding-left:480.9px;
    padding-right:606px;
    opacity:0.8;">
                  <p style="color:lightgrey;
                  font-size:18px;"> Made by Hamza Boukhatem senior BA/IT at TBS </p>

</footer>

<script>
  function registerUser() {
      // Get form data
      var formData = new FormData(document.getElementById('signupform'));
  
      // Create a JSON object from form data
      var jsonData = {};
      formData.forEach((value, key) => {
          jsonData[key] = value;
      });
  
      // Execute the POST request
      fetch('http://127.0.0.1:5000/register', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(jsonData)
      })
      .then(response => response.json())
      .then(data => {
          alert(data.message);
          // Redirect to another page if registration is successful
          if (data.message === 'Registration successful') {
              window.location.href = './UniSearch.html';  // Replace with the desired redirect URL
          }
      })
      .catch(error => {
          console.error('Error:', error);
          alert('An error occurred. Please try again.');
      });
  }
  </script>
         
</body> 
</html>